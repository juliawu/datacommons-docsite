<!DOCTYPE html>

<html lang="en">
<head>
  <title>SPARQL - Docs - Data Commons</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" href="/assets/images/favicon.png" type="image/png"/>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@300;400;500;700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@600&family=Roboto&family=Material+Icons&display=swap" rel="stylesheet">
  <link href="/assets/css/styles.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/custom.css">
  
  
</head>
<body>
  <div id="main">
    <header id="main-header">
      <nav class="navbar navbar-light navbar-expand-lg col" id="main-nav">
        <div class="container-fluid">
          <div class="navbar-brand">
            <div id="main-header-logo">
                <a href="https://datacommons.org/">
                  <img src="/assets/images/dc-logo.svg" />
                </a>
            </div>
            <a href="https://datacommons.org">Data Commons</a>
            <span><a href="/">Docs</a></span>
            </a>
          </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#dc-main-nav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-md-end" id="dc-main-nav">
          <ul class="navbar-nav float-md-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-explore-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Explore
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-explore-dropdown">
                <a class="dropdown-item" href="https://datacommons.org/place">Place
                  Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/browser">Knowledge Graph</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=timeline">Timelines Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=scatter">Scatter Plot Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=map">Map Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/statvar">Statistical Variable Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/download">Data Download Tool</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-doc-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Documentation
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-doc-dropdown">
                <a class="dropdown-item" href="/">Documentation</a>
                <a class="dropdown-item" href="/api">APIs</a>
                <a class="dropdown-item" href="/tutorials">Tutorials</a>
                <a class="dropdown-item" href="/contributing/">Contribute</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-about-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                About
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-about-dropdown">
                <a class="dropdown-item" href="https://datacommons.org/about">About Data
                  Commons</a>
                <a class="dropdown-item" href="https://blog.datacommons.org/">Blog</a>
                <a class="dropdown-item" href="https://datacommons.org/datasets">Data
                  Sources</a>
                <a class="dropdown-item" href="https://datacommons.org/faq">FAQ</a>
                <a class="dropdown-item" href="https://datacommons.org/feedback">Feedback</a>
              </div>
            </li>
            </ul>
            <div class="gcse-searchbox-only"
              data-resultsUrl="https://datacommons.org/search"></div>
            </div>
            </div>
      </nav>
    </header>

    <main id="" class="container-fluid">
      <div class="row">
        <div id="main-side-nav" class="col-3">
          <div id="sidebar"><details class="parent" open>
          <summary>
            <a href="/" class="">What is Data Commons?</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/how_to_use.html" class="">How to use Data Commons</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/data_model.html" class="">Key concepts</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/api/" class="">API</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-96"><details class="child" >
                  <summary>
                    <a href="/api/rest/v2" class="">REST (v2)</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-1"><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/getting_started" class="">
                              
                              Getting Started Guide
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/observation" class="">
                              
                              Observation
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/node.html" class="">
                              
                              Node
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/resolve.html" class="">
                              
                              Resolve entities
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/sparql.html" class="">
                              
                              SPARQL
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" open>
                  <summary>
                    <a href="/api/python/" class=" active">Python</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-4"><details class="child" open>
                          <summary>
                            <a href="/api/python/query.html" class=" active">
                              
                              SPARQL
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/triple.html" class="">
                              
                              Triple
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/property_label.html" class="">
                              
                              Property Label
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/property_value.html" class="">
                              
                              Property Value
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/place_in.html" class="">
                              
                              Places within a Place
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_value.html" class="">
                              
                              Place Statistics - Single Value
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_series.html" class="">
                              
                              Place Statistics - Time Series
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_all.html" class="">
                              
                              Place Statistics - All
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/pandas/" class="">Pandas</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-5"><details class="child" >
                          <summary>
                            <a href="/api/pandas/time_series.html" class="">
                              
                              Time Series as pd.Series
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/pandas/time_series_dataframe.html" class="">
                              
                              Time Series Table as pd.DataFrame
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/pandas/multivariate_dataframe.html" class="">
                              
                              Multivariate Table as pd.DataFrame
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/sheets/" class="">Google Sheets</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-6"><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_name.html" class="">
                              
                              Names Associated with a DCID
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/places_in.html" class="">
                              
                              Places Contained Within Another Place
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_variable.html" class="">
                              
                              Statistical Variable Values
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_property.html" class="">
                              
                              Node Property Values
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_cohort_members.html" class="">
                              
                              Cohort Members
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/tutorials/" class="">
                              
                              Tutorials
                            </a>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                          </summary>
                          <ul id="grandchild-6"></ul></details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/web_components/" class="">Web Components</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-7"><details class="child" >
                          <summary>
                            <a href="/api/web_components/bar" class="">
                              
                              Bar Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/gauge" class="">
                              
                              Gauge Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/highlight" class="">
                              
                              Highlight Tile
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/line" class="">
                              
                              Line Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/map" class="">
                              
                              Map Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/pie" class="">
                              
                              Pie Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/ranking" class="">
                              
                              Ranking Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/scatter" class="">
                              
                              Scatter Plot
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/slider" class="">
                              
                              Slider Control
                            </a>
                            
                          </summary>
                          </details></ul></details></ul></details><details class="parent" open>
          <summary>
            <a href="/bigquery/" class="">Query with SQL/BigQuery</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-97"><details class="child" >
                  <summary>
                    <a href="/bigquery/query_places.html" class="">Places</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_property_places.html" class="">Properties of places</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_more_complex.html" class="">More complex queries</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_join_your_data.html" class="">Join with external data</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/papers/" class="">Papers</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/tutorials/" class="">Case Studies</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/courseware/" class="">Courseware</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-100"><details class="child" >
                  <summary>
                    <a href="/courseware/data_literacy/" class="">Data Literacy with Data Commons</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-1"><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/overview.html" class="">
                              
                              Overview
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/course_materials/" class="">
                              
                              Course Materials
                            </a>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                          </summary>
                          <ul id="grandchild-2"><li class="">
                                  <a href="/courseware/data_literacy/course_materials/modules.html" class="">
                                    Modules
                                  </a>
                                </li><li class="">
                                  <a href="/courseware/data_literacy/course_materials/key_themes.html" class="">
                                    Key Themes
                                  </a>
                                </li><li class="">
                                  <a href="/courseware/data_literacy/course_materials/how_to_use.html" class="">
                                    How to Use
                                  </a>
                                </li></ul></details><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/faqs.html" class="">
                              
                              FAQs
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/courseware/intro_data_science.html" class="">Intro to Data Science</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/contributing/" class="">Contribute to Data Commons</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/custom_dc/" class="">Build your own Data Commons</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-102"><details class="child" >
                  <summary>
                    <a href="/custom_dc/quickstart.html" class="">Get started</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/custom_data.html" class="">Work with custom data</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/custom_ui.html" class="">Customize the site</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/build_image.html" class="">Build and run a custom image</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/data_cloud.html" class="">Test data in Google Cloud</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/deploy_cloud.html" class="">Deploy a custom instance to Google Cloud</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/launch_cloud.html" class="">Launch a custom site</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/faq.html" class="">Frequently asked questions</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/troubleshooting.html" class="">Troubleshooting</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/place_types.html" class="">Place Types</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/datasets/" class="">Data Sources</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-115"><details class="child" >
                  <summary>
                    <a href="/datasets/Agriculture.html" class="">Agriculture</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Biomedical.html" class="">Biomedical</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Crime.html" class="">Crime</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Demographics.html" class="">Demographics</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Economy.html" class="">Economy</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Education.html" class="">Education</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Energy.html" class="">Energy</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Environment.html" class="">Environment</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Health.html" class="">Health</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Housing.html" class="">Housing</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/import_dataset/" class="">Data Imports</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-120"><details class="child" >
                  <summary>
                    <a href="/import_dataset/schema_less_guide.html" class="">Data Commons Schema-less Guide</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/glossary.html" class="">Glossary</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/blog.html" class="">Blog</a>
            
          </summary>
          </details></div>
        </div>
        <div class="col-9">
          <div id="main-doc-content">
            
              
                <nav aria-label="Breadcrumb" id="main-breadcrumb">
                  <ol class="breadcrumb">
                    
                      <li class="breadcrumb-item">
                        <a href="/api/">
                          API
                        </a>
                      </li>
                      <li class="breadcrumb-item">
                        <a href="/api/python/">
                          Python
                        </a>
                      </li>
                    
                    <li class="breadcrumb-item active"><span>SPARQL </span></li>
                  </ol>
                </nav>
              
            
            <h1 id="query-the-data-commons-knowledge-graph-using-sparql">Query the Data Commons knowledge graph using SPARQL</h1>

<p>Returns the results of running a graph query on the Data Commons knowledge graph
using <a href="https://www.w3.org/TR/rdf-sparql-query/">SPARQL</a>. Note that Data Commons is only
able to support a limited subsection of SPARQL functionality at this time: specifically only the keywords <code class="language-plaintext highlighter-rouge">ORDER BY</code>, <code class="language-plaintext highlighter-rouge">DISTINCT</code>, and <code class="language-plaintext highlighter-rouge">LIMIT</code>.</p>

<p>Note: The Python SPARQL library currently only supports the <a href="/api/v1/query.html">v1</a> version of the API.</p>

<h2 id="general-information-about-the-query-method">General information about the query() method</h2>

<p><strong>Signature</strong>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_string</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Required arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">query_string</code>: A SPARQL query string.</li>
</ul>

<h2 id="how-to-construct-a-call-to-the-query-method">How to construct a call to the query() method</h2>

<p>This method makes it possible to query the Data Commons knowledge graph using SPARQL. SPARQL is a query language developed to retrieve data from websites. It leverages the graph structure innate in the data it queries to return specific information to an end user. For more information on assembling SPARQL queries, check out <a href="https://en.wikipedia.org/wiki/SPARQL">the Wikipedia page about SPARQL</a> and <a href="https://www.w3.org/TR/sparql11-query/">the W3C specification information</a>.</p>

<p>This method accepts the additional optional argument <code class="language-plaintext highlighter-rouge">select</code>. This function selects rows to be returned by <code class="language-plaintext highlighter-rouge">query</code>. Under the hood, the <code class="language-plaintext highlighter-rouge">select</code> function examines a row in the results of executing <code class="language-plaintext highlighter-rouge">query_string</code> and returns <code class="language-plaintext highlighter-rouge">True</code> if and only if the row is to be returned by <code class="language-plaintext highlighter-rouge">query</code>. The row passed in as an argument is represented as a <code class="language-plaintext highlighter-rouge">dict</code> that maps a query variable in <code class="language-plaintext highlighter-rouge">query_string</code> to its value in the given row.</p>

<blockquote>
  <p><strong>NOTE:</strong></p>
  <ul>
    <li>In the query, each variable should have a <code class="language-plaintext highlighter-rouge">typeOf</code> condition, e.g. <code class="language-plaintext highlighter-rouge">"?var typeOf City ."</code>.</li>
  </ul>
</blockquote>

<h2 id="what-to-expect-in-the-function-return">What to expect in the function return</h2>

<p>A correct response will always look like this:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"&lt;field name&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;field value&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
 </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>The response contains an array of dictionaries, each corresponding to one node matching the conditions of the query. Each dictionary’s keys match the variables in the query SELECT clause, and the values in the dictionaries are those associated to the given node’s query-specified properties.</p>

<h2 id="examples-and-error-responses">Examples and error responses</h2>

<p>The following examples and error responses, along with explanations and fixes for the errors, are available in this <a href="https://colab.research.google.com/drive/1Jd0IDHnMdtxhsmXhL5Ib5tL0zgJud1k5?usp=sharing">Python notebook</a>.</p>

<h3 id="example-1-retrieve-the-name-of-the-state-associated-with-dcid-geoid06">Example 1: Retrieve the name of the state associated with DCID geoId/06.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">geoId06_name_query</span> <span class="o">=</span> <span class="s">'SELECT ?name ?dcid WHERE { ?a typeOf Place . ?a name ?name . ?a dcid ("geoId/06" "geoId/21" "geoId/24") . ?a dcid ?dcid }'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">geoId06_name_query</span><span class="p">)</span>
<span class="p">[{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'Kentucky'</span><span class="p">,</span> <span class="s">'?dcid'</span><span class="p">:</span> <span class="s">'geoId/21'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'California'</span><span class="p">,</span> <span class="s">'?dcid'</span><span class="p">:</span> <span class="s">'geoId/06'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'Maryland'</span><span class="p">,</span> <span class="s">'?dcid'</span><span class="p">:</span> <span class="s">'geoId/24'</span><span class="p">}]</span>
</code></pre></div></div>

<h3 id="example-2-retrieve-a-list-of-ten-biological-specimens-in-reverse-alphabetical-order">Example 2: Retrieve a list of ten biological specimens in reverse alphabetical order.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">bio_specimens_reverse_alphabetical_order_query</span> <span class="o">=</span> <span class="s">'SELECT ?name WHERE { ?biologicalSpecimen typeOf BiologicalSpecimen . ?biologicalSpecimen name ?name } ORDER BY DESC(?name) LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">bio_specimens_reverse_alphabetical_order_query</span><span class="p">)</span>
<span class="p">[{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Triticosecale'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Silene'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Silene'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Silene'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'x Pseudelymus saxicola (Scribn. &amp; J.G.Sm.) Barkworth &amp; D.R.Dewey'</span><span class="p">}]</span>
</code></pre></div></div>

<h3 id="example-3-retrieve-a-list-of-gni-observations-by-country">Example 3: Retrieve a list of GNI observations by country.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">gni_by_country_query</span> <span class="o">=</span> <span class="s">'SELECT ?observation ?place WHERE { ?observation typeOf StatVarObservation . ?observation variableMeasured Amount_EconomicActivity_GrossNationalIncome_PurchasingPowerParity_PerCapita . ?observation observationAbout ?place . ?place typeOf Country . } ORDER BY ASC (?place) LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">gni_by_country_query</span><span class="p">)</span>
<span class="p">[{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/syrpc3m8q34z7'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/bqtfmc351v0f2'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/md36fx6ty4d64'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/bm28zvchsyf4b'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/3nleez1feevw6'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/x2yg38d0xecnf'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/7swdqf6yjdyw8'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/yqmsmbx1qskfg'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/6hlhrz3k8p5wf'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/txfw505ydg629'</span><span class="p">,</span> <span class="s">'?place'</span><span class="p">:</span> <span class="s">'country/ABW'</span><span class="p">}]</span>
</code></pre></div></div>

<h3 id="example-4-retrieve-a-sample-list-of-observations-with-the-unit-internationaldollar">Example 4: Retrieve a sample list of observations with the unit InternationalDollar.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">internationalDollar_obs_query</span> <span class="o">=</span> <span class="s">'SELECT ?observation WHERE {   ?observation typeOf StatVarObservation .   ?observation unit InternationalDollar  } LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">internationalDollar_obs_query</span><span class="p">)</span>
<span class="p">[{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/s3gzszzvj34f1'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/gd41m7qym86d4'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/wq62twxx902p4'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/d93kzvns8sq4c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/6s741lstdqrg4'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/2kcq1xjkmrzmd'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/ced6jejwv224f'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/q31my0dmcryzd'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/96frt9w0yjwxf'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?observation'</span><span class="p">:</span> <span class="s">'dc/o/rvjz5xn9mlg73'</span><span class="p">}]</span>
</code></pre></div></div>

<h3 id="example-5-retrieve-a-list-of-ten-distinct-annual-estimates-of-life-expectancy-along-with-the-year-of-estimation-for-forty-seven-year-old-hungarians">Example 5: Retrieve a list of ten distinct annual estimates of life expectancy, along with the year of estimation, for forty-seven-year-old Hungarians.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">life_expectancy_query</span> <span class="o">=</span> <span class="s">'SELECT DISTINCT ?LifeExpectancy ?year WHERE { ?o typeOf StatVarObservation . ?o variableMeasured LifeExpectancy_Person_47Years . ?o observationAbout country/HUN . ?o value ?LifeExpectancy . ?o observationDate ?year } ORDER BY ASC(?LifeExpectancy) LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">life_expectancy_query</span><span class="p">)</span>
<span class="p">[{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.4'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1993'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.5'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1992'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.7'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1990'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.7'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1994'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.8'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1991'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'26.9'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1995'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'27.2'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1996'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'27.4'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1999'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'27.5'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1997'</span><span class="p">},</span> <span class="p">{</span><span class="s">'?LifeExpectancy'</span><span class="p">:</span> <span class="s">'27.5'</span><span class="p">,</span> <span class="s">'?year'</span><span class="p">:</span> <span class="s">'1998'</span><span class="p">}]</span>
</code></pre></div></div>

<h3 id="example-6-use-the-select-function-to-filter-returns-based-on-name">Example 6: Use the <code class="language-plaintext highlighter-rouge">select</code> function to filter returns based on name.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">names_for_places_query</span> <span class="o">=</span> <span class="s">'SELECT ?name ?dcid WHERE {  ?a typeOf Place .  ?a name ?name .  ?a dcid ("geoId/06" "geoId/21" "geoId/24") .  ?a dcid ?dcid }'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">maryland_selector</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s">'?name'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'Maryland'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">names_for_places_query</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="n">maryland_selector</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="p">...</span>
<span class="p">{</span><span class="s">'?name'</span><span class="p">:</span> <span class="s">'Maryland'</span><span class="p">,</span> <span class="s">'?dcid'</span><span class="p">:</span> <span class="s">'geoId/24'</span><span class="p">}</span>
</code></pre></div></div>

<h3 id="error-response-1-malformed-sparql-query">Error response 1: Malformed SPARQL query</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">gni_by_country_query</span> <span class="o">=</span> <span class="s">'SELECT ?observation WHERE { ?observation typeOf StatVarObservation . ?observation variableMeasured Amount_EconomicActivity_GrossNationalIncome_PurchasingPowerParity_PerCapita . ?observation observationAbout ?place . ?place typeOf Country . } ORDER BY ASC (?place) LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">gni_by_country_query</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/site-packages/datacommons/query.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">102</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">six</span><span class="p">.</span><span class="n">moves</span><span class="p">.</span><span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">222</span><span class="p">,</span> <span class="ow">in</span> <span class="n">urlopen</span>
    <span class="k">return</span> <span class="n">opener</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">531</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">open</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">meth</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">641</span><span class="p">,</span> <span class="ow">in</span> <span class="n">http_response</span>
    <span class="s">'http'</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hdrs</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">569</span><span class="p">,</span> <span class="ow">in</span> <span class="n">error</span>
    <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_call_chain</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">503</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_call_chain</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">649</span><span class="p">,</span> <span class="ow">in</span> <span class="n">http_error_default</span>
    <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="n">req</span><span class="p">.</span><span class="n">full_url</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hdrs</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
<span class="n">urllib</span><span class="p">.</span><span class="n">error</span><span class="p">.</span><span class="n">HTTPError</span><span class="p">:</span> <span class="n">HTTP</span> <span class="n">Error</span> <span class="mi">500</span><span class="p">:</span> <span class="n">Internal</span> <span class="n">Server</span> <span class="n">Error</span>

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/site-packages/datacommons/query.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">104</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query</span>
    <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Response error {}:</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">code</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">read</span><span class="p">()))</span>
<span class="nb">ValueError</span><span class="p">:</span> <span class="n">Response</span> <span class="n">error</span> <span class="mi">500</span><span class="p">:</span>
<span class="sa">b</span><span class="s">'{</span><span class="se">\n</span><span class="s"> "code": 2,</span><span class="se">\n</span><span class="s"> "message": "googleapi: Error 400: Unrecognized name: place; Did you mean name? at [1:802], invalidQuery",</span><span class="se">\n</span><span class="s"> "details": [</span><span class="se">\n</span><span class="s">  {</span><span class="se">\n</span><span class="s">   "@type": "type.googleapis.com/google.rpc.DebugInfo",</span><span class="se">\n</span><span class="s">   "stackEntries": [],</span><span class="se">\n</span><span class="s">   "detail": "internal"</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s"> ]</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">'</span>
</code></pre></div></div>

<h3 id="error-response-2-malformed-sparql-query-string">Error response 2: Malformed SPARQL query string</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">gni_by_country_query</span> <span class="o">=</span> <span class="s">'SELECT ?observation WHERE { ?observation typeOf StatVarObservation . ?observation variableMeasured Amount_EconomicActivity_GrossNationalIncome_PurchasingPowerParity_PerCapita . ?observation observationAbout ?place . ?place typeOf Country . } ORDER BY ASC (?place) LIMIT 10'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">gni_by_country_query</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/site-packages/datacommons/query.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">102</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">six</span><span class="p">.</span><span class="n">moves</span><span class="p">.</span><span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">222</span><span class="p">,</span> <span class="ow">in</span> <span class="n">urlopen</span>
    <span class="k">return</span> <span class="n">opener</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">531</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">open</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">meth</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">641</span><span class="p">,</span> <span class="ow">in</span> <span class="n">http_response</span>
    <span class="s">'http'</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hdrs</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">569</span><span class="p">,</span> <span class="ow">in</span> <span class="n">error</span>
    <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_call_chain</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">503</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_call_chain</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/urllib/request.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">649</span><span class="p">,</span> <span class="ow">in</span> <span class="n">http_error_default</span>
    <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="n">req</span><span class="p">.</span><span class="n">full_url</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hdrs</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
<span class="n">urllib</span><span class="p">.</span><span class="n">error</span><span class="p">.</span><span class="n">HTTPError</span><span class="p">:</span> <span class="n">HTTP</span> <span class="n">Error</span> <span class="mi">500</span><span class="p">:</span> <span class="n">Internal</span> <span class="n">Server</span> <span class="n">Error</span>

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/site-packages/datacommons/query.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">104</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query</span>
    <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Response error {}:</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">code</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">read</span><span class="p">()))</span>
<span class="nb">ValueError</span><span class="p">:</span> <span class="n">Response</span> <span class="n">error</span> <span class="mi">500</span><span class="p">:</span>
<span class="sa">b</span><span class="s">'{</span><span class="se">\n</span><span class="s"> "code": 2,</span><span class="se">\n</span><span class="s"> "message": "googleapi: Error 400: Unrecognized name: place; Did you mean name? at [1:802], invalidQuery",</span><span class="se">\n</span><span class="s"> "details": [</span><span class="se">\n</span><span class="s">  {</span><span class="se">\n</span><span class="s">   "@type": "type.googleapis.com/google.rpc.DebugInfo",</span><span class="se">\n</span><span class="s">   "stackEntries": [],</span><span class="se">\n</span><span class="s">   "detail": "internal"</span><span class="se">\n</span><span class="s">  }</span><span class="se">\n</span><span class="s"> ]</span><span class="se">\n</span><span class="s">}</span><span class="se">\n</span><span class="s">'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">gni_by_country_query</span> <span class="o">=</span> <span class="s">'SELECT ?observation WHERE { ?observation typeOf StatVarObservation . </span><span class="se">\\\\</span><span class="s">\ ?observation variableMeasured Amount_EconomicActivity_GrossNationalIncome_PurchasingPowerParity_PerCapita . ?observation observationAbout ?place . ?place typeOf Country . } ORDER BY ASC (?place) LIMIT 10'</span>
</code></pre></div></div>

<h3 id="error-response-3-bad-selector">Error response 3: Bad selector</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">names_for_places_query</span> <span class="o">=</span> <span class="s">'SELECT ?name ?dcid WHERE {  ?a typeOf Place .  ?a name ?name .  ?a dcid ("geoId/06" "geoId/21" "geoId/24") .  ?a dcid ?dcid }'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bad_selector</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s">'?earthquake'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'Nonexistent'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">datacommons</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="n">names_for_places_query</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="n">bad_selector</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s">"/home/porpentina/miniconda3/lib/python3.7/site-packages/datacommons/query.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">127</span><span class="p">,</span> <span class="ow">in</span> <span class="n">query</span>
    <span class="k">if</span> <span class="n">select</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">select</span><span class="p">(</span><span class="n">row_map</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;</span>
<span class="nb">KeyError</span><span class="p">:</span> <span class="s">'?earthquake'</span>
</code></pre></div></div>


          </div>
        </div>
      </div>
    </main>

    <footer id="main-footer">
      <div id="sub-footer">
        <span class="brand-byline">
          <span class="brand-text">An initiative from</span>
          <img class="brand-logo" src="/assets/images/google-logo.svg" />
        </span>
        <div class="sub-footer-links">
          <a href="https://policies.google.com/terms">Terms and Conditions</a>
          <a href="https://policies.google.com/privacy?hl=en-US">Privacy Policy</a>
          <a href="https://datacommons.org/disclaimers">Disclaimers</a>
        </div>
      </div>
    </footer>
  </div>
  <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <script async
    src="https://cse.google.com/cse.js?cx=010079880385165835740%3Aosnv3q-sw08"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KWSES5WXZE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-KWSES5WXZE', {
      client_storage: 'none',
      anonymize_ip: true,
    });
  </script>
  <script src="/assets/js/tabs.js"></script>
</body>
</html>
