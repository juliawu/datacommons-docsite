<!DOCTYPE html>

<html lang="en">
<head>
  <title>Test data in Google Cloud - Docs - Data Commons</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" href="/assets/images/favicon.png" type="image/png"/>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@300;400;500;700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@600&family=Roboto&family=Material+Icons&display=swap" rel="stylesheet">
  <link href="/assets/css/styles.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/custom.css">
  
  
</head>
<body>
  <div id="main">
    <header id="main-header">
      <nav class="navbar navbar-light navbar-expand-lg col" id="main-nav">
        <div class="container-fluid">
          <div class="navbar-brand">
            <div id="main-header-logo">
                <a href="https://datacommons.org/">
                  <img src="/assets/images/dc-logo.svg" />
                </a>
            </div>
            <a href="https://datacommons.org">Data Commons</a>
            <span><a href="/">Docs</a></span>
            </a>
          </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#dc-main-nav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-md-end" id="dc-main-nav">
          <ul class="navbar-nav float-md-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-explore-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Explore
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-explore-dropdown">
                <a class="dropdown-item" href="https://datacommons.org/place">Place
                  Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/browser">Knowledge Graph</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=timeline">Timelines Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=scatter">Scatter Plot Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/visualization#visType=map">Map Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/statvar">Statistical Variable Explorer</a>
                <a class="dropdown-item"
                  href="https://datacommons.org/tools/download">Data Download Tool</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-doc-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Documentation
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-doc-dropdown">
                <a class="dropdown-item" href="/">Documentation</a>
                <a class="dropdown-item" href="/api">APIs</a>
                <a class="dropdown-item" href="/tutorials">Tutorials</a>
                <a class="dropdown-item" href="/contributing/">Contribute</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="nav-about-dropdown"
                role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                About
              </a>
              <div class="dropdown-menu" aria-labelledby="nav-about-dropdown">
                <a class="dropdown-item" href="https://datacommons.org/about">About Data
                  Commons</a>
                <a class="dropdown-item" href="https://blog.datacommons.org/">Blog</a>
                <a class="dropdown-item" href="https://datacommons.org/datasets">Data
                  Sources</a>
                <a class="dropdown-item" href="https://datacommons.org/faq">FAQ</a>
                <a class="dropdown-item" href="https://datacommons.org/feedback">Feedback</a>
              </div>
            </li>
            </ul>
            <div class="gcse-searchbox-only"
              data-resultsUrl="https://datacommons.org/search"></div>
            </div>
            </div>
      </nav>
    </header>

    <main id="" class="container-fluid">
      <div class="row">
        <div id="main-side-nav" class="col-3">
          <div id="sidebar"><details class="parent" open>
          <summary>
            <a href="/" class="">What is Data Commons?</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/how_to_use.html" class="">How to use Data Commons</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/data_model.html" class="">Key concepts</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/api/" class="">API</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-96"><details class="child" >
                  <summary>
                    <a href="/api/rest/v2" class="">REST (v2)</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-1"><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/getting_started" class="">
                              
                              Getting Started Guide
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/observation" class="">
                              
                              Observation
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/node.html" class="">
                              
                              Node
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/resolve.html" class="">
                              
                              Resolve entities
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/rest/v2/sparql.html" class="">
                              
                              SPARQL
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/python/" class="">Python</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-4"><details class="child" >
                          <summary>
                            <a href="/api/python/query.html" class="">
                              
                              SPARQL
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/triple.html" class="">
                              
                              Triple
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/property_label.html" class="">
                              
                              Property Label
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/property_value.html" class="">
                              
                              Property Value
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/place_in.html" class="">
                              
                              Places within a Place
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_value.html" class="">
                              
                              Place Statistics - Single Value
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_series.html" class="">
                              
                              Place Statistics - Time Series
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/python/stat_all.html" class="">
                              
                              Place Statistics - All
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/pandas/" class="">Pandas</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-5"><details class="child" >
                          <summary>
                            <a href="/api/pandas/time_series.html" class="">
                              
                              Time Series as pd.Series
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/pandas/time_series_dataframe.html" class="">
                              
                              Time Series Table as pd.DataFrame
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/pandas/multivariate_dataframe.html" class="">
                              
                              Multivariate Table as pd.DataFrame
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/sheets/" class="">Google Sheets</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-6"><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_name.html" class="">
                              
                              Names Associated with a DCID
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/places_in.html" class="">
                              
                              Places Contained Within Another Place
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_variable.html" class="">
                              
                              Statistical Variable Values
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_property.html" class="">
                              
                              Node Property Values
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/get_cohort_members.html" class="">
                              
                              Cohort Members
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/sheets/tutorials/" class="">
                              
                              Tutorials
                            </a>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                          </summary>
                          <ul id="grandchild-6"></ul></details></ul></details><details class="child" >
                  <summary>
                    <a href="/api/web_components/" class="">Web Components</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-7"><details class="child" >
                          <summary>
                            <a href="/api/web_components/bar" class="">
                              
                              Bar Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/gauge" class="">
                              
                              Gauge Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/highlight" class="">
                              
                              Highlight Tile
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/line" class="">
                              
                              Line Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/map" class="">
                              
                              Map Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/pie" class="">
                              
                              Pie Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/ranking" class="">
                              
                              Ranking Chart
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/scatter" class="">
                              
                              Scatter Plot
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/api/web_components/slider" class="">
                              
                              Slider Control
                            </a>
                            
                          </summary>
                          </details></ul></details></ul></details><details class="parent" open>
          <summary>
            <a href="/bigquery/" class="">Query with SQL/BigQuery</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-97"><details class="child" >
                  <summary>
                    <a href="/bigquery/query_places.html" class="">Places</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_property_places.html" class="">Properties of places</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_more_complex.html" class="">More complex queries</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/bigquery/query_join_your_data.html" class="">Join with external data</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/papers/" class="">Papers</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/tutorials/" class="">Case Studies</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/courseware/" class="">Courseware</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-100"><details class="child" >
                  <summary>
                    <a href="/courseware/data_literacy/" class="">Data Literacy with Data Commons</a>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                  </summary>
                  <ul id="child-1"><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/overview.html" class="">
                              
                              Overview
                            </a>
                            
                          </summary>
                          </details><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/course_materials/" class="">
                              
                              Course Materials
                            </a>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
                          </summary>
                          <ul id="grandchild-2"><li class="">
                                  <a href="/courseware/data_literacy/course_materials/modules.html" class="">
                                    Modules
                                  </a>
                                </li><li class="">
                                  <a href="/courseware/data_literacy/course_materials/key_themes.html" class="">
                                    Key Themes
                                  </a>
                                </li><li class="">
                                  <a href="/courseware/data_literacy/course_materials/how_to_use.html" class="">
                                    How to Use
                                  </a>
                                </li></ul></details><details class="child" >
                          <summary>
                            <a href="/courseware/data_literacy/faqs.html" class="">
                              
                              FAQs
                            </a>
                            
                          </summary>
                          </details></ul></details><details class="child" >
                  <summary>
                    <a href="/courseware/intro_data_science.html" class="">Intro to Data Science</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/contributing/" class="">Contribute to Data Commons</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/custom_dc/" class="">Build your own Data Commons</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-102"><details class="child" >
                  <summary>
                    <a href="/custom_dc/quickstart.html" class="">Get started</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/custom_data.html" class="">Work with custom data</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/custom_ui.html" class="">Customize the site</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/build_image.html" class="">Build and run a custom image</a>
                    
                  </summary>
                  </details><details class="child" open>
                  <summary>
                    <a href="/custom_dc/data_cloud.html" class=" active">Test data in Google Cloud</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/deploy_cloud.html" class="">Deploy a custom instance to Google Cloud</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/launch_cloud.html" class="">Launch a custom site</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/faq.html" class="">Frequently asked questions</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/custom_dc/troubleshooting.html" class="">Troubleshooting</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/place_types.html" class="">Place Types</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/datasets/" class="">Data Sources</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-115"><details class="child" >
                  <summary>
                    <a href="/datasets/Agriculture.html" class="">Agriculture</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Biomedical.html" class="">Biomedical</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Crime.html" class="">Crime</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Demographics.html" class="">Demographics</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Economy.html" class="">Economy</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Education.html" class="">Education</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Energy.html" class="">Energy</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Environment.html" class="">Environment</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Health.html" class="">Health</a>
                    
                  </summary>
                  </details><details class="child" >
                  <summary>
                    <a href="/datasets/Housing.html" class="">Housing</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/import_dataset/" class="">Data Imports</a>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="14" height="14">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path>
</svg>
          </summary>
          <ul id="node-120"><details class="child" >
                  <summary>
                    <a href="/import_dataset/schema_less_guide.html" class="">Data Commons Schema-less Guide</a>
                    
                  </summary>
                  </details></ul></details><details class="parent" open>
          <summary>
            <a href="/glossary.html" class="">Glossary</a>
            
          </summary>
          </details><details class="parent" open>
          <summary>
            <a href="/blog.html" class="">Blog</a>
            
          </summary>
          </details></div>
        </div>
        <div class="col-9">
          <div id="main-doc-content">
            
              
                <nav aria-label="Breadcrumb" id="main-breadcrumb">
                  <ol class="breadcrumb">
                    
                      <li class="breadcrumb-item">
                        <a href="/custom_dc/">
                          Build your own Data Commons
                        </a>
                      </li>
                    
                    <li class="breadcrumb-item active"><span>Test data in Google Cloud </span></li>
                  </ol>
                </nav>
              
            
            <h1 class="no_toc" id="test-data-in-google-cloud">Test data in Google Cloud</h1>

<p>This page shows you how to store your custom data in Google Cloud database and load it into a local instance. This is step 4 of the <a href="/custom_dc/index.html#workflow">recommended workflow</a>.</p>

<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#one-time-setup-steps" id="markdown-toc-one-time-setup-steps">One-time setup steps</a>    <ul>
      <li><a href="#choose-a-location" id="markdown-toc-choose-a-location">Choose a location</a></li>
      <li><a href="#create-a-google-cloud-sql-instance" id="markdown-toc-create-a-google-cloud-sql-instance">Create a Google Cloud SQL instance</a></li>
      <li><a href="#create-a-google-cloud-storage-bucket" id="markdown-toc-create-a-google-cloud-storage-bucket">Create a Google Cloud Storage bucket</a></li>
      <li><a href="#set-environment-variables" id="markdown-toc-set-environment-variables">Set environment variables</a></li>
    </ul>
  </li>
  <li><a href="#upload-data-files-to-google-cloud-storage" id="markdown-toc-upload-data-files-to-google-cloud-storage">Upload data files to Google Cloud Storage</a></li>
  <li><a href="#point-the-local-data-commons-site-to-the-cloud-data" id="markdown-toc-point-the-local-data-commons-site-to-the-cloud-data">Point the local Data Commons site to the Cloud data</a>    <ul>
      <li><a href="#generate-credentials-for-google-cloud-default-application" id="markdown-toc-generate-credentials-for-google-cloud-default-application">Generate credentials for Google Cloud default application</a></li>
      <li><a href="#docker-data" id="markdown-toc-docker-data">Start the Docker container with Cloud data</a>        <ul>
          <li><a href="#run-with-a-prebuilt-image" id="markdown-toc-run-with-a-prebuilt-image">Run with a prebuilt image</a></li>
          <li><a href="#run-with-a-locally-built-repo" id="markdown-toc-run-with-a-locally-built-repo">Run with a locally built repo</a></li>
        </ul>
      </li>
      <li><a href="#load-data-cloudsql" id="markdown-toc-load-data-cloudsql">Load custom data in Cloud SQL</a></li>
    </ul>
  </li>
  <li><a href="#inspect-the-cloud-sql-database" id="markdown-toc-inspect-the-cloud-sql-database">Inspect the Cloud SQL database</a></li>
</ul>

<h2 id="overview">Overview</h2>

<p>Once you have tested locally, you need to get your data into Google Cloud so you can test it remotely. You can continue to run the custom Data Commons instance locally, but retrieve data from the Cloud. In this scenario, the system is set up like this:</p>

<p><img src="/assets/images/custom_dc/customdc_setup3.png" alt="setup3" /></p>

<p>You will upload your CSV and JSON files to <a href="https://cloud.google.com/storage">Google Cloud Storage</a>, and the custom Data Commons importer will transform, store, and query the data in a <a href="https://cloud.google.com/sql">Google Cloud SQL</a> database.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>A <a href="https://console.cloud.google.com/welcome">GCP</a> billing account and project.</li>
  <li>Install the <a href="https://cloud.google.com/sdk/docs/install-sdk">gcloud CLI</a>.</li>
</ul>

<h2 id="one-time-setup-steps">One-time setup steps</h2>

<h3 id="choose-a-location">Choose a location</h3>

<p>While you are testing, you can start with a single Google Cloud region; to be close to the base Data Commons data, you can use <code class="language-plaintext highlighter-rouge">us-central1</code>. However, once you launch, you may want to host your data and application closer to where your users will be. In any case, you should use the <em>same region</em> for your Google Cloud SQL instance, the Google Cloud Storage buckets, and the <a href="/pages/datacommonsorg/docsite/custom_dc/deploy_cloud.html">Google Cloud Run service</a> where you will host the site. For a list of supported regions, see Cloud SQL <a href="https://cloud.google.com/sql/docs/mysql/locations">Manage instance locations</a>.</p>

<h3 id="create-a-google-cloud-sql-instance">Create a Google Cloud SQL instance</h3>

<ol>
  <li>Go to <a href="https://console.cloud.google.com/sql/instances">https://console.cloud.google.com/sql/instances</a> for your project.</li>
  <li>Next to <strong>Instances</strong>, click <strong>Create Instance</strong>.</li>
  <li>Click <strong>Choose MySQL.</strong></li>
  <li>If necessary, enable APIs as directed.</li>
  <li>Set an instance ID. Record the instance connection name in the form of <em><code class="language-plaintext highlighter-rouge">INSTANCE_ID</code></em> for setting environment variables below.</li>
  <li>Set a root password, and record it for setting environment variables below.</li>
  <li>For the <strong>Location type</strong>, choose the relevant regional option.</li>
  <li>When you have finished setting all the configuration options, click <strong>Create Instance</strong>. It may take several minutes for the instance to be created.</li>
  <li>When the instance is created and the left navigation bar appears, select <strong>Users</strong>.</li>
  <li>Add at least one user and password.</li>
  <li>Select <strong>Databases</strong>.</li>
  <li>Click <strong>Create Database</strong>.</li>
  <li>Choose a name for the database or use the default, <code class="language-plaintext highlighter-rouge">datacommons</code>.</li>
  <li>Click <strong>Create</strong>.</li>
</ol>

<h3 id="create-a-google-cloud-storage-bucket">Create a Google Cloud Storage bucket</h3>

<ol>
  <li>Go to <a href="https://console.cloud.google.com/storage/browser">https://console.cloud.google.com/storage/browser</a> for your project.</li>
  <li>Next to <strong>Buckets</strong>, click <strong>Create</strong>.</li>
  <li>Enter a name for this bucket.</li>
  <li>For the <strong>Location type</strong>, choose the same regional options as for Cloud SQL above.</li>
  <li>When you have finished setting all the configuration options, click <strong>Create</strong>.</li>
  <li>In the <strong>Bucket Details</strong> page, click <strong>Create Folder</strong> to create a new folder to hold your data.</li>
  <li>Name the folder as desired. Record the folder path as <code>gs://<var>BUCKET_NAME</var>/<var>FOLDER_PATH</var></code> for setting the <code class="language-plaintext highlighter-rouge">OUTPUT_DIR</code> environment variable below.</li>
</ol>

<h3 id="set-environment-variables">Set environment variables</h3>

<ol>
  <li>Using your favorite editor, open <code class="language-plaintext highlighter-rouge">custom_dc/env.list</code>.</li>
  <li>Set <code class="language-plaintext highlighter-rouge">USE_SQLITE=false</code> and <code class="language-plaintext highlighter-rouge">USE_CLOUDSQL=true</code></li>
  <li>
    <p>Set values for all of the following:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">CLOUDSQL_INSTANCE</code></li>
      <li><code class="language-plaintext highlighter-rouge">GOOGLE_CLOUD_PROJECT</code></li>
      <li><code class="language-plaintext highlighter-rouge">DB_NAME</code></li>
      <li><code class="language-plaintext highlighter-rouge">DB_USER</code></li>
      <li><code class="language-plaintext highlighter-rouge">DB_PASS</code></li>
      <li><code class="language-plaintext highlighter-rouge">OUTPUT_DIR</code></li>
    </ul>

    <p>See comments in the <a href="https://github.com/datacommonsorg/website/blob/master/custom_dc/env.list"><code class="language-plaintext highlighter-rouge">env.list</code></a> file for the correct format for each option.</p>
  </li>
  <li>Optionally, set an <code class="language-plaintext highlighter-rouge">ADMIN_SECRET</code> to use when loading the data through the <code class="language-plaintext highlighter-rouge">/admin</code> page later.</li>
</ol>

<p>Warning: Do not use any quotes (single or double) or spaces when specifying the values.</p>

<h2 id="upload-data-files-to-google-cloud-storage">Upload data files to Google Cloud Storage</h2>

<ol>
  <li>Go to <a href="https://console.cloud.google.com/storage/browse">https://console.cloud.google.com/storage/browse</a> and select your custom Data Commons bucket.</li>
  <li>Navigate to the folder you created in the earlier step.</li>
  <li>Click <strong>Upload Files</strong>, and select all your CSV files and <code class="language-plaintext highlighter-rouge">config.json</code>.</li>
</ol>

<p>Note: Do not upload the local <code class="language-plaintext highlighter-rouge">datacommons</code> subdirectory or its files.</p>

<p>As you are iterating on changes to the source CSV and JSON files, you can re-upload them at any time, either overwriting existing files or creating new folders. To load them into Google SQL, follow the procedures below.</p>

<h2 id="point-the-local-data-commons-site-to-the-cloud-data">Point the local Data Commons site to the Cloud data</h2>

<h3 id="generate-credentials-for-google-cloud-default-application">Generate credentials for Google Cloud default application</h3>

<p>Before you can connect to the Cloud SQL instance, you need to generate credentials that can be used in the local Docker container. You should refresh the credentials every time you restart the Docker container.</p>

<p>Open a terminal window and run the following command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcloud auth application-default login
</code></pre></div></div>

<p>This opens a browser window that prompts you to enter credentials, sign in to Google Auth Library and allow Google Auth Library to access your account. Accept the prompts. When it has completed, a credential JSON file is created in<br />
<code class="language-plaintext highlighter-rouge">$HOME/.config/gcloud/application_default_credentials.json</code>. Use this in the command below to authenticate from the docker container.</p>

<p>If you are prompted to specify a quota project for billing that will be used in the credentials file, run this command:</p>

<pre>  
gcloud auth application-default set-quota-project <var>PROJECT_ID</var>  
</pre>

<p>If you are prompted to install the Cloud Resource Manager API, press <code class="language-plaintext highlighter-rouge">y</code> to accept.</p>

<h3 id="docker-data">Start the Docker container with Cloud data</h3>

<h4 id="run-with-a-prebuilt-image">Run with a prebuilt image</h4>

<p>If you have not made changes that require a local build, and just want to run the pre-downloaded image, from your repository root, run:</p>

<pre>
docker run -it \
--env-file $PWD/custom_dc/env.list \
-p 8080:8080 \
-e DEBUG=true \
-e GOOGLE_APPLICATION_CREDENTIALS=/gcp/creds.json \
-v $HOME/.config/gcloud/application_default_credentials.json:/gcp/creds.json:ro \
gcr.io/datcom-ci/datacommons-website-compose:stable
</pre>

<h4 id="run-with-a-locally-built-repo">Run with a locally built repo</h4>

<p>If you have made local changes and have a <a href="/custom_dc/build_image.html#build-repo">locally built repo</a>, from the root of the repository, run the following:</p>

<pre>
docker run -it \  
--env-file $PWD/custom_dc/env.list \  
-p 8080:8080 \  
-e DEBUG=true \  
-e GOOGLE_APPLICATION_CREDENTIALS=/gcp/creds.json \  
-v $HOME/.config/gcloud/application_default_credentials.json:/gcp/creds.json:ro \  
datacommons-website-compose:<var>DOCKER_TAG</var>  
</pre>

<p><em><code class="language-plaintext highlighter-rouge">DOCKER_TAG</code></em> is the tag you specified when you built the repo.</p>

<h3 id="load-data-cloudsql">Load custom data in Cloud SQL</h3>

<p>Each time you upload new versions of the source CSV and JSON files, you need to load the new/updated data into Google Cloud SQL. Custom Data Commons allows you to reload data on the fly, while the website is running, so even multiple users can reload data.</p>

<p>You can load the new/updated data from Cloud Storage using the <code class="language-plaintext highlighter-rouge">/admin</code> page on the site:</p>

<ol>
  <li>Optionally, in the <code class="language-plaintext highlighter-rouge">env.list</code> file, set the <code class="language-plaintext highlighter-rouge">ADMIN_SECRET</code> environment variable to a string that authorizes users to load data.</li>
  <li>Start the Docker container as described above.</li>
  <li>With the services running, navigate to the <code class="language-plaintext highlighter-rouge">/admin</code> page. If a secret is required, enter it in the text field, and click <strong>Load</strong>.
This runs a script inside the Docker container, that converts the CSV data in Cloud Storage into SQL tables, and stores them in the Cloud SQL database you created earlier. It also generates embeddings in the Google Cloud Storage folder into which you uploaded the CSV/JSON files, in a <code class="language-plaintext highlighter-rouge">datacommons/nl/</code> subfolder.</li>
</ol>

<h2 id="inspect-the-cloud-sql-database">Inspect the Cloud SQL database</h2>

<p>To view information about the created tables:</p>

<ol>
  <li>Go to <a href="https://console.cloud.google.com/sql/instances">https://console.cloud.google.com/sql/instances</a> for your project and select the instance you created earlier.</li>
  <li>In the left panel, select <strong>Cloud SQL Studio</strong>.</li>
  <li>In the <strong>Sign in to SQL Studio</strong> page, from the Database field, select the database you created earlier, e.g. <code class="language-plaintext highlighter-rouge">datacommons</code>.</li>
  <li>Enter the user name and password and click <strong>Authenticate</strong>.</li>
  <li>In the left Explorer pane that appears, expand the <strong>Databases</strong> icon, your database name, and <strong>Tables</strong>. The table of interest is <code class="language-plaintext highlighter-rouge">observations</code>. You can see column names and other metadata.</li>
  <li>To view the actual data, in the main window, click <strong>New SQL Editor tab</strong>. This opens an environment in which you can enter and run SQL queries.</li>
  <li>
    <p>Enter a query and click <strong>Run</strong>. For example, for the sample OECD data, if you do <code class="language-plaintext highlighter-rouge">select * from observations limit 10;</code>, you should see output like this:</p>

    <p><img src="/assets/images/custom_dc/customdc_screenshot6.png" alt="screenshot_sqlite" height="400" /></p>
  </li>
</ol>

          </div>
        </div>
      </div>
    </main>

    <footer id="main-footer">
      <div id="sub-footer">
        <span class="brand-byline">
          <span class="brand-text">An initiative from</span>
          <img class="brand-logo" src="/assets/images/google-logo.svg" />
        </span>
        <div class="sub-footer-links">
          <a href="https://policies.google.com/terms">Terms and Conditions</a>
          <a href="https://policies.google.com/privacy?hl=en-US">Privacy Policy</a>
          <a href="https://datacommons.org/disclaimers">Disclaimers</a>
        </div>
      </div>
    </footer>
  </div>
  <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <script async
    src="https://cse.google.com/cse.js?cx=010079880385165835740%3Aosnv3q-sw08"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KWSES5WXZE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-KWSES5WXZE', {
      client_storage: 'none',
      anonymize_ip: true,
    });
  </script>
  <script src="/assets/js/tabs.js"></script>
</body>
</html>
